"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function i(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n])}function o(e,t,n){t||(t=250);var i,o;return function(){var r=n||this,s=+new Date,a=arguments;i&&i+t>s?(clearTimeout(o),o=setTimeout(function(){i=s,e.apply(r,a)},t)):(i=s,e.apply(r,a))}}function r(e){27==e.keyCode&&L.dismiss()}function s(){i(C,function(e){e.mayAutoShow()&&"pageviews"===e.config.trigger.method&&x>=e.config.trigger.value&&e.trigger()})}function a(){i(C,function(e){e.mayAutoShow()&&("time_on_site"===e.config.trigger.method&&y.time>=e.config.trigger.value&&e.trigger(),"time_on_page"===e.config.trigger.method&&b.time>=e.config.trigger.value&&e.trigger())})}function l(){var e=window.scrollY,t=e+.667*p;i(C,function(e){!e.mayAutoShow()||e.triggerHeight<=0||(t>e.triggerHeight?e.trigger():e.mayRehide()&&e.hide())})}function c(){p=window.innerHeight,i(C,function(e){e.setCustomBoxStyling()})}function u(e){var t=e.offsetX,n=e.offsetY;i(C,function(e){var i=e.element.getBoundingClientRect(),o=100+.05*window.innerWidth;(t<i.left-o||t>i.right+o||n<i.top-o||n>i.bottom+o)&&e.dismiss()})}function f(){v||(i(C,function(e){e.mayAutoShow()&&"exit_intent"===e.config.trigger.method&&e.trigger()}),v=!0)}function d(e){var t=400;e.clientY<=0&&(m=window.setTimeout(f,t))}function h(){m&&(window.clearInterval(m),m=null)}var p,g,m,v,y,b,x,w=n(1),L=Object.create(w.prototype),z=n(2)(L),E=n(4),S=n(5),C={};n(6);var k={start:function(){var e=sessionStorage.getItem("boxzilla_timer");e&&(y.time=e),y.start(),b.start()},stop:function(){sessionStorage.setItem("boxzilla_timer",y.time),y.stop(),b.stop()}};L.init=function(){y=new E(sessionStorage.getItem("boxzilla_timer")||0),b=new E(0),x=sessionStorage.getItem("boxzilla_pageviews")||0,p=window.innerHeight,g=document.createElement("div"),S(g,{display:"none",position:"fixed",background:"rgba(0,0,0,0.65)",width:"100%",height:"100%","z-index":99999,top:0,left:0}),g.id="boxzilla-overlay",document.body.appendChild(g),window.addEventListener("scroll",o(l)),window.addEventListener("resize",o(c)),window.addEventListener("load",c),g.addEventListener("click",u),window.setInterval(a,1e3),window.setTimeout(s,1e3),document.addEventListener("mouseleave",d),document.addEventListener("mouseenter",h),document.addEventListener("keyup",r),k.start(),window.addEventListener("focus",k.start),window.addEventListener("beforeunload",function(){k.stop(),sessionStorage.setItem("boxzilla_pageviews",++x)}),window.addEventListener("blur",k.stop),L.trigger("ready")},L.create=function(e,t){return C[e]=new z(e,t),C[e]},L.dismiss=function(e){"undefined"==typeof e?i(C,function(e){e.dismiss()}):"object"===_typeof(C[e])&&C[e].dismiss()},L.hide=function(e){"undefined"==typeof e?i(C,function(e){e.hide()}):"object"===_typeof(C[e])&&C[e].hide()},L.show=function(e){"undefined"==typeof e?i(C,function(e){e.show()}):"object"===_typeof(C[e])&&C[e].show()},L.toggle=function(e){"undefined"==typeof e?i(C,function(e){e.toggle()}):"object"===_typeof(C[e])&&C[e].toggle()},window.Boxzilla=L,"undefined"!=typeof e&&e.exports&&(e.exports=L)},function(e,t,n){var i;(function(){function t(){}function o(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function r(e){return function(){return this[e].apply(this,arguments)}}var s=t.prototype,a=this,l=a.EventEmitter;s.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},s.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},s.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},s.addListener=function(e,t){var n,i=this.getListenersAsObject(e),r="object"===("undefined"==typeof t?"undefined":_typeof(t));for(n in i)i.hasOwnProperty(n)&&-1===o(i[n],t)&&i[n].push(r?t:{listener:t,once:!1});return this},s.on=r("addListener"),s.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},s.once=r("addOnceListener"),s.defineEvent=function(e){return this.getListeners(e),this},s.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},s.removeListener=function(e,t){var n,i,r=this.getListenersAsObject(e);for(i in r)r.hasOwnProperty(i)&&(n=o(r[i],t),-1!==n&&r[i].splice(n,1));return this},s.off=r("removeListener"),s.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},s.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},s.manipulateListeners=function(e,t,n){var i,o,r=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!==("undefined"==typeof t?"undefined":_typeof(t))||t instanceof RegExp)for(i=n.length;i--;)r.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(o=t[i])&&("function"==typeof o?r.call(this,i,o):s.call(this,i,o));return this},s.removeEvent=function(e){var t,n="undefined"==typeof e?"undefined":_typeof(e),i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},s.removeAllListeners=r("removeEvent"),s.emitEvent=function(e,t){var n,i,o,r,s,a=this.getListenersAsObject(e);for(r in a)if(a.hasOwnProperty(r))for(n=a[r].slice(0),o=n.length;o--;)i=n[o],i.once===!0&&this.removeListener(e,i.listener),s=i.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},s.trigger=r("emitEvent"),s.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},s.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},s._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},s._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return a.EventEmitter=l,t},i=function(){return t}.call(a,n,a,e),!(void 0!==i&&(e.exports=i))}).call(this)},function(e,t,n){function i(e,t){var n={};for(var i in e)n[i]=e[i];for(var i in t)n[i]=t[i];return n}var o,r={animation:"fade",rehide:!1,content:"",cookieTime:0,icon:"&times",minimumScreenWidth:0,position:"center",testMode:!1,trigger:!1,closable:!0},s=n(3),a=function(e,t){this.id=e,this.config=i(r,t),this.overlay=document.getElementById("boxzilla-overlay"),this.visible=!1,this.closed=!1,this.triggered=!1,this.triggerHeight=0,this.cookieSet=!1,this.element=null,this.closeIcon=null,this.config.trigger&&("percentage"!==this.config.trigger.method&&"element"!==this.config.trigger.method||(this.triggerHeight=this.calculateTriggerHeight()),this.cookieSet=this.isCookieSet()),this.dom(),this.events()};a.prototype.events=function(){var e=this;this.closeIcon&&this.closeIcon.addEventListener("click",e.dismiss.bind(this)),this.element.addEventListener("click",function(t){"A"===t.target.tagName&&o.trigger("box.interactions.link",[e,t.target])},!1),this.element.addEventListener("submit",function(t){e.setCookie(),o.trigger("box.interactions.form",[e,t.target])},!1),document.body.addEventListener("click",function(t){if("A"===t.target.tagName){var n="#boxzilla-"+e.id,i=t.target.getAttribute("href");i&&i.substring(-n.length)===n&&(e.toggle(),t.preventDefault())}},!1),this.fits()&&this.locationHashRefersBox()&&window.addEventListener("load",this.show.bind(this))},a.prototype.dom=function(){var e=document.createElement("div");e.className="boxzilla-container boxzilla-"+this.config.position+"-container";var t=document.createElement("div");t.setAttribute("id","boxzilla-"+this.id),t.className="boxzilla boxzilla-"+this.id+" boxzilla-"+this.config.position,t.style.display="none",e.appendChild(t);var n=document.createElement("div");n.className="boxzilla-content",n.innerHTML=this.config.content,t.appendChild(n);var i=n.querySelectorAll("script");if(i.length){for(var o=document.createElement("script"),r=0;r<i.length;r++)o.appendChild(document.createTextNode(i[r].text)),i[r].parentNode.removeChild(i[r]);document.body.appendChild(o)}if(this.config.closable&&this.config.icon){var s=document.createElement("span");s.className="boxzilla-close-icon",s.innerHTML=this.config.icon,t.appendChild(s),this.closeIcon=s}document.body.appendChild(e),this.element=t},a.prototype.setCustomBoxStyling=function(){var e=this.element.style.display;this.element.style.display="",this.element.style.overflowY="auto",this.element.style.maxHeight="none";var t=window.innerHeight,n=this.element.clientHeight;if(n>t&&(this.element.style.maxHeight=t+"px",this.element.style.overflowY="scroll"),"center"===this.config.position){var i=(t-n)/2;i=i>=0?i:0,this.element.style.marginTop=i+"px"}this.element.style.display=e},a.prototype.toggle=function(e){if("undefined"==typeof e&&(e=!this.visible),e===this.visible)return!1;if(s.animated(this.element))return!1;if(!e&&!this.config.closable)return!1;this.visible=e,this.setCustomBoxStyling(),o.trigger("box."+(e?"show":"hide"),[this]),"center"===this.config.position&&s.toggle(this.overlay,"fade"),s.toggle(this.element,this.config.animation);var t=this.element.querySelector("input, textarea");return t&&t.focus(),!0},a.prototype.show=function(){return this.toggle(!0)},a.prototype.hide=function(){return this.toggle(!1)},a.prototype.calculateTriggerHeight=function(){var e=0;if("element"===this.config.trigger.method){var t=document.body.querySelector(this.config.trigger.value);if(t){var n=t.getBoundingClientRect();e=n.top}}else"percentage"===this.config.trigger.method&&(e=this.config.trigger.value/100*document.body.clientHeight);return e},a.prototype.setCookie=function(){if(this.config.cookieTime){var e=new Date;e.setDate(e.getDate()+this.config.cookieTime),document.cookie="boxzilla_box_"+this.id+"=true; expires="+e.toUTCString()+"; path=/"}},a.prototype.locationHashRefersBox=function(){if(!window.location.hash||0===window.location.hash.length)return!1;var e=window.location.hash.substring(1);return e===this.element.id?!0:!!this.element.querySelector("#"+e)},a.prototype.fits=function(){return this.config.minimumScreenWidth<=0?!0:window.innerWidth>this.config.minimumScreenWidth},a.prototype.mayAutoShow=function(){return this.closed?!1:this.fits()&&this.config.trigger?!this.cookieSet:!1},a.prototype.mayRehide=function(){return this.config.rehide&&this.triggered},a.prototype.isCookieSet=function(){if(this.config.testMode)return!1;if(!this.config.cookieTime)return!1;var e="true"===document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*boxzilla_box_"+this.id+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");return e},a.prototype.trigger=function(){var e=this.show();e&&(this.triggered=!0)},a.prototype.dismiss=function(){this.hide(),this.setCookie(),this.closed=!0,o.trigger("box.dismiss",[this])},e.exports=function(e){return o=e,a}},function(e,t){function n(e,t){for(var n in t)e.style[n]=t[n]}function i(e,t){for(var n={},i=0;i<e.length;i++)n[e[i]]=t;return n}function o(e,t){for(var n={},i=0;i<e.length;i++)n[e[i]]=t[e[i]];return n}function r(e){return!!e.getAttribute("data-animated")}function s(e,t){var r="none"!=e.style.display||e.offsetLeft>0,s=e.cloneNode(!0);e.setAttribute("data-animated","true"),r||(e.style.display="");var c,u;if("slide"===t){if(c=i(["height","borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],0),u={},!r){var f=window.getComputedStyle(e);u=o(["height","borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],f),n(e,c)}e.style.overflowY="hidden",a(e,r?c:u)}else c={opacity:0},u={opacity:1},r||n(e,c),a(e,r?c:u);window.setTimeout(function(){e.removeAttribute("data-animated"),e.setAttribute("style",s.getAttribute("style")),e.style.display=r?"none":""},1.2*l)}function a(e,t){var n=+new Date,i=window.getComputedStyle(e),o={},r={};for(var s in t){t[s]=parseFloat(t[s]);var a=t[s],c=parseFloat(i[s]);r[s]=(a-c)/l,o[s]=c}var u=function f(){var i,s,a,l,c=+new Date,u=c-n,d=!0;for(var h in t){i=r[h],s=t[h],a=i*u,l=o[h]+a,i>0&&l>=s||0>i&&s>=l?l=s:d=!1,o[h]=l;var p="opacity"!==h?"px":"";e.style[h]=l+p}n=+new Date,d||window.requestAnimationFrame&&requestAnimationFrame(f)||setTimeout(f,32)};u()}var l=320;e.exports={toggle:s,animated:r}},function(e,t){var n=function(e){this.time=e,this.interval=0};n.prototype.tick=function(){this.time++},n.prototype.start=function(){this.interval||(this.interval=window.setInterval(this.tick.bind(this),1e3))},n.prototype.stop=function(){window.clearInterval(this.interval),this.interval=0},e.exports=n},function(e,t){function n(e){return e.replace("-","")}function i(e,t){for(var i in t)e.style[n(i)]=t[i]}e.exports=i},function(e,t,n){var i=n(7);"string"==typeof i&&(i=[[e.id,i,""]]);n(9)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(8)(),t.push([e.id,'.boxzilla-center-container {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    text-align: center;\n    z-index: 999999;\n    line-height: 0; }\n\n/* reset some properties like "line-height" because of container line-height hack */\n.boxzilla-center-container .boxzilla {\n    display: inline-block;\n    text-align: left;\n    position: relative;\n    line-height: normal; }\n\n.boxzilla {\n    position: fixed;\n    z-index: 999999;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    background: white;\n    padding: 25px; }\n.boxzilla.boxzilla-top-left {\n    top: 0;\n    left: 0; }\n.boxzilla.boxzilla-top-right {\n    top: 0;\n    right: 0; }\n.boxzilla.boxzilla-bottom-left {\n    bottom: 0;\n    left: 0; }\n.boxzilla.boxzilla-bottom-right {\n    bottom: 0;\n    right: 0; }\n\n/* remove top & bottom margin from last child element */\n.boxzilla-content > *:first-child {\n    margin-top: 0;\n    padding-top: 0; }\n\n.boxzilla-content > *:last-child {\n    margin-bottom: 0;\n    padding-bottom: 0; }\n\n.boxzilla-close-icon {\n    position: absolute;\n    right: 0;\n    top: 0;\n    text-align: center;\n    padding: 6px;\n    cursor: pointer;\n    -webkit-appearance: none;\n    font-size: 28px;\n    font-weight: bold;\n    line-height: 20px;\n    color: #000;\n    opacity: .5; }\n.boxzilla-close-icon:hover, .boxzilla-close-icon:focus {\n    opacity: .8; }\n',""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=h[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(c(i.parts[r],t))}else{for(var s=[],r=0;r<i.parts.length;r++)s.push(c(i.parts[r],t));h[i.id]={id:i.id,refs:1,parts:s}}}}function o(e){for(var t=[],n={},i=0;i<e.length;i++){var o=e[i],r=o[0],s=o[1],a=o[2],l=o[3],c={css:s,media:a,sourceMap:l};n[r]?n[r].parts.push(c):t.push(n[r]={id:r,parts:[c]})}return t}function r(e,t){var n=m(),i=b[b.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function s(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",r(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",r(e,t),t}function c(e,t){var n,i,o;if(t.singleton){var r=y++;n=v||(v=a(t)),i=u.bind(null,n,r,!1),o=u.bind(null,n,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),i=d.bind(null,n),o=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),i=f.bind(null,n),o=function(){s(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}function u(e,t,n,i){var o=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var r=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function f(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var n=t.css,i=t.sourceMap;i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([n],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}var h={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},g=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=p(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,y=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=g()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=o(e);return i(n,t),function(e){for(var r=[],s=0;s<n.length;s++){var a=n[s],l=h[a.id];l.refs--,r.push(l)}if(e){var c=o(e);i(c,t)}for(var s=0;s<r.length;s++){var l=r[s];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete h[l.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()}]));
//# sourceMappingURL=boxzilla.min.js.map
